# Basic configuration
bind 0.0.0.0
protected-mode yes
port 6379

# Memory optimization
maxmemory 6gb
maxmemory-policy allkeys-lru
activerehashing yes

# Performance optimization
io-threads 4
io-threads-do-reads yes
appendonly no
save ""

# Connection handling
timeout 300
tcp-keepalive 300
maxclients 50000

# Client output buffer limits for streaming
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit replica 256mb 64mb 60

# Speed optimizations
dynamic-hz yes
hz 100
lazyfree-lazy-eviction yes
lazyfree-lazy-expire yes
lazyfree-lazy-server-del yes

# Queue specific optimizations
list-max-ziplist-size -2
list-compress-depth 0
activedefrag yes
active-defrag-cycle-min 25
active-defrag-cycle-max 75

# Disable slow operations logging for better performance
slowlog-log-slower-than -1